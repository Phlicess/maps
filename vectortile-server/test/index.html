<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'/>
    <title>Species populate</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'/>

    <script src="./mapbox-gl_patched_issue2236.js"></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.15.0/mapbox-gl.css' rel='stylesheet'/>
    <link href='style.css' rel='stylesheet'/>

</head>
<body>
<div id='map' class="map"></div>


<script>

mapboxgl.accessToken = 'pk.eyJ1IjoiZ2JpZiIsImEiOiJjaW0xeXU1c3gwMG04dm1tNXB3cjJ3Zm12In0.8A2pUP_lgL19w4G5L0fDNw';


var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/light-v8',
    center: [-20, 50],
    zoom: 0,
    maxZoom: 8.9
});


map.on('style.load', function () {
  map.addControl(new mapboxgl.Navigation()); 

    map.addSource('png', {
        type: 'raster',
        "tiles": ['https://dl.dropboxusercontent.com/u/608155/transient/world_512.png'],
        "tileSize": 512
    });
    
    map.addLayer({
        "id": "png-tiles",
        "type": "raster",
        "source": "png"
    });    

    map.addSource('vector', {
        type: 'vector',
        //"tiles": ['https://dl.dropboxusercontent.com/u/608155/transient/world_256.mvt']
        //"tiles": ['https://dl.dropboxusercontent.com/u/608155/transient/world_512.mvt']
        //"tiles": ['https://dl.dropboxusercontent.com/u/608155/transient/world_1024.mvt']
        //"tiles": ['https://dl.dropboxusercontent.com/u/608155/transient/world_2048.mvt']
        //"tiles": ['https://dl.dropboxusercontent.com/u/608155/transient/world_4096.mvt']
        "tiles": ['https://dl.dropboxusercontent.com/u/608155/transient/world_4096_1M.mvt']
    });
    
    map.addLayer({
        "id": "point",
        "type": "circle",
        "source": "vector",
        "source-layer": "pointsWithYears",
        "paint": {
            "circle-radius": 0.5,
            "circle-color": "#000",
            "circle-opacity": 1            
        },
    });


});


</script>


</body>
</html>
